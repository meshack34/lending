<!-- Sidebar CSS -->
<style>
  /* Make icons always follow the link text color */
  .sidebar .nav-link i {
    color: inherit !important;
  }
</style>

<!-- Fixed Sidebar -->
<div class="sidebar d-flex flex-column flex-shrink-0 p-3 text-white"
     style="width: 250px; background-color: #004d80; height: 100vh; position: fixed; top: 0; left: 0; overflow-y: auto; z-index: 1020;">

  <!-- Brand / Logo -->
  <a href="{% url 'dashboard' %}" class="d-flex align-items-center mb-3 text-white text-decoration-none">
    <i class="bi bi-speedometer2 fs-4 me-2"></i>
    <span class="fs-5 fw-bold">NOMAD TMS</span>
  </a>
  <hr class="text-white">

  <ul class="nav nav-pills flex-column mb-auto">
    <!-- Dashboard -->
    <li class="nav-item mb-2">
      <a href="{% url 'dashboard' %}" class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active bg-light text-dark{% else %}text-white{% endif %} rounded d-flex align-items-center">
        <i class="bi bi-speedometer2 me-2 fs-5"></i> Dashboard
      </a>
    </li>

    <!-- Clients -->
    <li class="mb-2">
      <a class="nav-link text-white d-flex justify-content-between align-items-center rounded"
         data-bs-toggle="collapse" href="#clientsMenu" role="button" aria-expanded="false" aria-controls="clientsMenu">
        <span class="d-flex align-items-center"><i class="bi bi-people me-2 fs-5"></i> Clients</span>
        <i class="bi bi-caret-down-fill small"></i>
      </a>
      <div class="collapse ps-3 mt-2 {% if request.resolver_match.url_name in 'client_list client_create' %}show{% endif %}" id="clientsMenu">
        <a href="{% url 'client_list' %}" class="nav-link {% if request.resolver_match.url_name == 'client_list' %}active bg-light text-dark{% else %}text-white-50{% endif %} small mb-1 rounded d-flex align-items-center">
          <i class="bi bi-list-check me-1 fs-6"></i> All Clients
        </a>
        <a href="{% url 'client_create' %}" class="nav-link {% if request.resolver_match.url_name == 'client_create' %}active bg-light text-dark{% else %}text-white-50{% endif %} small rounded d-flex align-items-center">
          <i class="bi bi-plus-circle me-1 fs-6"></i> New Client
        </a>
      </div>
    </li>

    <!-- Bookings -->
    <li class="mt-3">
      <a class="nav-link text-white d-flex justify-content-between align-items-center rounded"
         data-bs-toggle="collapse" href="#bookingsMenu" role="button" aria-expanded="false" aria-controls="bookingsMenu">
        <span class="d-flex align-items-center"><i class="bi bi-calendar-check me-2 fs-5"></i> Bookings</span>
        <i class="bi bi-caret-down-fill small"></i>
      </a>
      <div class="collapse ps-3 mt-2 {% if request.resolver_match.url_name in 'booking_list booking_create' %}show{% endif %}" id="bookingsMenu">
        <a href="{% url 'booking_list' %}" class="nav-link {% if request.resolver_match.url_name == 'booking_list' %}active bg-light text-dark{% else %}text-white-50{% endif %} small mb-1 rounded d-flex align-items-center">
          <i class="bi bi-list-check me-1 fs-6"></i> All Bookings
        </a>
        <a href="{% url 'booking_create' %}" class="nav-link {% if request.resolver_match.url_name == 'booking_create' %}active bg-light text-dark{% else %}text-white-50{% endif %} small rounded d-flex align-items-center">
          <i class="bi bi-plus-circle me-1 fs-6"></i> New Booking
        </a>
      </div>
    </li>

    <!-- Itinerary -->
    <li class="mt-3">
      <a href="{% url 'iterinary' %}" class="nav-link {% if request.resolver_match.url_name == 'itinerary_list' %}active bg-light text-dark{% else %}text-white{% endif %} rounded d-flex align-items-center">
        <i class="bi bi-journal-text me-2 fs-5"></i> Itinerary
      </a>
    </li>

    <!-- Subscriptions -->
    <li class="mt-3">
        <a href="{% url 'my_subscriptions'%}" 
           class="nav-link {% if request.resolver_match.url_name == 'subscription_list' %}active bg-light text-dark{% else %}text-white{% endif %} rounded d-flex align-items-center">
          <i class="bi bi-credit-card me-2 fs-5"></i> Subscriptions
        </a>
    </li>

    <!-- Account -->
    <li class="mt-3">
      <a href="{% url 'profile' %}" class="nav-link {% if request.resolver_match.url_name == 'profile' %}active bg-light text-dark{% else %}text-white{% endif %} rounded d-flex align-items-center">
        <i class="bi bi-person me-2 fs-5"></i> Profile
      </a>
    </li>
    <li>
      <a href="{% url 'logout' %}" class="nav-link text-white rounded d-flex align-items-center">
        <i class="bi bi-box-arrow-right me-2 fs-5"></i> Logout
      </a>
    </li>
  </ul>

  <hr class="text-white mt-auto">
  <div class="small text-white-50 text-center mb-2">
    &copy; 2025 NOMAD TMS
  </div>
</div>

<!-- Page content margin to account for fixed sidebar -->
<div style="margin-left: 250px;"></div>
